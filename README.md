# 🃏 My Poker Coach (我的撲克教練)

歡迎使用 **My Poker Coach**。這是一個基於 **GTO (賽局理論最佳化)** 的 AI 撲克教練系統，能夠根據您的手牌與當前局勢，提供最佳的決策建議 (下注、過牌、棄牌)。

## ✨ 系統特色

- **GTO 策略核心**：基於數學與賽局理論提供建議。
- **自然語言互動**：直接描述牌局狀況即可獲得分析。
- **簡易操作**：提供自動化腳本，無需複雜設定。

---

## 🚀 快速開始

我們為不同作業系統提供了 **「一鍵啟動」** 腳本，它會自動完成安裝、設定與啟動。

### 🪟 Windows 使用者

1. 雙擊執行 **`run_all.bat`**。
2. 依照指示輸入 API Key (僅首次需要)。
3. 程式將自動開啟瀏覽器進入教學介面。

---

### 🍎 Mac / Linux 使用者

請在終端機執行：

```bash
sh run_all.sh
```

程式將自動完成安裝並啟動。

---

## 📖 使用說明

### 1. 互動對話 (Chat)

在對話框輸入牌局敘述，就像跟教練聊天一樣：

> 「我在 6-max 急速桌，UTG 開池 3BB，我在 BTN 手持 AhKh 進行 3-Bet 到 9BB，對方跟注。翻牌 Ks Tc 7d，對方 Check，我該怎麼做？」

系統會分析並給出建議行動與下注尺寸。

### 2. 手牌選取器 (Hand Selector) 🃏

為了避免打錯字以及可以偷懶，您可以使用介面右側的視覺化選取器：

1. 點擊 **"Hero Hand"** 的卡片空格。
2. 在彈出的視窗中點選花色與點數。
3. 選好的牌會自動加入到您的對話輸入框中，無需手動輸入代碼。

### 3. 重置牌局 (Reset) 🔄

當一手牌結束想要開始新局面時：
- 點擊標題列右方的 **重置按鈕** (旋轉箭頭圖示)。
- 或在對話框輸入「重置」、「下一手」。
- 系統會清除所有記憶與桌面狀態，準備好分析下一手牌。

---

### 💡 提問小撇步

為了獲得最精準的 GTO 建議，建議提供以下資訊：
- **位置**: (BTN, SB, BB, UTG...)
- **手牌**: (AKs, T9o...)
- **牌面**: (Ks Tc 7d...)
- **籌碼**: (100BB, 50BB)
- **行動**: (Open, 3-Bet, Check/Call...)

---

## 🛠️ 開發資訊

- **語言**: Python 3.9+
- **框架**: FastAPI
- **架構**:
    - `core/`: 核心基礎設施
        - `parser.py`: 自然語言解析器，將使用者輸入轉換為結構化資料
        - `config.py`: 系統全域設定
    - `features/`: 撲克邏輯特徵提取
        - `cards.py`: 撲克牌物件模型與基礎邏輯
        - `context.py`: 牌局上下文管理 (Context)
    - `strategy/`: 策略運算引擎
        - `engine.py`: 策略決策總入口
        - `gto.py`: 數學模型計算 (MDF, Bluff Ratio, Alpha)
        - `streets/`: 各條街 (Preflop/Flop/Turn/River) 的具體策略實現
    - `services/`: 外部服務整合
        - `llm_client.py`: 與 LLM (OpenAI) 的通訊介面
        - `prompts.py`: AI 角色設定與提示詞管理
    - `server.py`: FastAPI 應用程式入口與 API 定義
    - `agent.py`: 整合策略分析與自然語言生成的教練代理人

## 📄 License

MIT License
